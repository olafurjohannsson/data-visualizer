<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Data and Visualization</title>
        <style>* { padding: 0; margin: 0; } canvas { background: #eee; display: block; margin: 0 auto; }</style>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js"></script>
    </head>
    <body></body>
    <script>
        function initCanvas() {
            const [ body ] = document.getElementsByTagName('body');
            
            const canvas = document.createElement('canvas');
            canvas.setAttribute('width', '480');
            canvas.setAttribute('height', '320');
            canvas.setAttribute('id', 'canvas');
            body.appendChild(canvas);
            return canvas;
        }
        function* getData(to, max = 100) {
            let [current, end] = [0, Math.floor(Math.random() * (to || 20))];
            
            while (current++ < end) {
                yield Math.floor(Math.random() * max);
            }
        }
        

        const context = initCanvas().getContext('2d');
        const data = [...getData(15, max=25)];
        const scale = d3.scaleLinear().range([10, 390])
                                      .domain(
                                          [Math.min(...data), 
                                            Math.max(...data)]);
        
        for (const d of data) {
            console.log(d, scale(d));
            context.beginPath();
            context.rect(scale(d), 15, 10, 10);
            context.fillStyle = 'red';
            context.fill();
            context.closePath();
        }

        
        console.info(`Context: ${context}, data: ${data}, type: ${typeof data}`);
    </script>
</html>